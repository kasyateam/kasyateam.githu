<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
  <link rel="stylesheet" type="text/css" href="https://kasyateam.ga/m/kmp/style-1.css"/>
</head>

<body>
  <div class="main" id="main">
<!-- ПОЧАТОК -->

<h1 id="title">
Создание AJAX запросов с помощью jQuery
</h1>

<p>jQuery - это библиотека JavaScript позволяющая ускорить написание кода.</p>
<p>В данной главе мы не будем изучать все возможности, которые предоставляет jQuery, а только рассмотрим связанные с AJAX.</p>
<p>Если Вы хотите узнать о jQuery больше, посетите наш jQuery учебник.</p>
<p>Для того, чтобы использовать возможности jQuery ее необходимо вначале подключить.</p>
<p>Чтобы сделать это, добавьте код расположенный ниже в head секцию Вашей страницы:</p>

<pre class="brush: csharp;">
&lt;script src=&quot;http:// ajax.googleapis.com/ ajax/ libs/ jquery/ 1.5/ jquery.min.js&quot;&gt;
&lt;/script&gt;
</pre>

<p>Создание AJAX запросов на "чистом" JavaScript имеет несколько недостатков:</p>
<p>Код даже самого простого AJAX запроса получается достаточно громоздким и сложным для понимания без специального ознакомления;</p>
<p>Вы должны добавлять дополнительные строчки кода для поддержки старых версий браузеров.</p>
<p>AJAX запрос созданный с помощью jQuery занимает всего одну строчку кода, и уже оптимизирован для использования и с новыми и старыми версиями браузеров.</p>
<p><b>Синтаксис:</b></p>

<pre class="brush: csharp;">
$("селектор").load(url,данные,функция)
</pre>

<p><b>селектор</b> выбирает элемент, в котором будет отображен результат AJAX запроса.</p>
<p><b>url</b> адрес, на который будет отправлен AJAX запрос.</p>
<p><b>данные</b> является необязательным параметром. Данные, которые будут переданы вместе с запросом.</p>
<p><b>функция</b> является необязательным параметром. Функция, которая будет вызвана после выполнения запроса.</p>

<pre class="brush: csharp;">
$(document).ready(function()
{
$("#but1").click(function()
{
$("#par1").load("testfile.txt");
})
});
</pre>

<p>В примере ниже мы пересылаем скрипту add.php переменную x со значением 4 и переменную y со значением 5 он в свою очередь принимает эти переменные, производит их сложение и отправляет результат обратно.</p>

<pre class="brush: csharp;">
$(document).ready(function()
{
$("#but1").click(function()
{
$("#par1").load("add.php","x=4&y=5");
})
});
</pre>

<h1 id="title">
Сопровождающие функции
</h1>

<p>Сопровождающие функции позволяют выполнять различный код в зависимости от состояния выполнения AJAX запроса.</p>
<p>Функция ajaxSend() выполнит переданный в нее код во время отправления AJAX запроса.</p>
<p>Функция ajaxComplete выполнит переданный в нее код, когда выполнение AJAX запроса будет завершено, при этом неважно произошла при этом ошибка или нет.</p>

<pre class="brush: csharp;">
$(document).ready(function()
{
$("#par1").ajaxSend(function()
{
$("#img1").css("display","block");
})

$("#par1").ajaxComplete(function()
{
$("#img1").css("display","none");
})

$("#but1").click(function()
{
$("#par1").load("add.php","x=10&y=100");
})
});
</pre>

<p>Функция ajaxSuccess выполнит переданный в него код, если выполнение AJAX запроса будет завершено успешно.</p>
<p>Функция ajaxError выполнит переданный в него код, если выполнение AJAX запроса будет завершено с ошибкой.</p>

<pre class="brush: csharp;">
$(document).ready(function(){
   $("#par1").ajaxSend(function(){
      $("#img1").css("display","block");
   });

   $("#par1").ajaxComplete(function(){
      $("#img1").css("display","none");
   });

   $("#par1").ajaxError(function(){
      alert("Выполнение AJAX запроса завершено с ошибкой.");
   });

   $("#par1").ajaxSuccess(function(){
      alert("AJAX запрос успешно выполнен!");
   });

   $("#but1").click(function(){
      $("#par1").load("add.php","x=10&y=100");
   });

   $("#but2").click(function(){
      $("#par1").load("abb.php","x=10&y=100");
   });
});
</pre>

<h1 id="title">
Низкоуровневые AJAX запросы
</h1>

<p>Высокоуровневые методы создания AJAX запросов, перечисленные ранее на данной странице, подходят для создания большей части запросов, но иногда их функциональности становится недостаточно.</p>
<p>Низкоуровневые AJAX запросы предоставляют более широкую функциональность, но более сложны в использовании.</p>
<p><b>Синтаксис высокоуровневого AJAX запроса:</b></p>

<pre class="brush: csharp;">
$("#par1").load("add.php","x=4&y=5")
</pre>

<p><b>Синтаксис аналогичного низкоуровневого AJAX запроса:</b></p>

<pre class="brush: csharp;">
$.ajax({
   url:"add.php", 
   data:"x=4&y=5", 
   
   success:function(result)
   {
      $("#par1").html(result)
   }
});
</pre>

<p><b>Обратите внимание:</b> полный список всех существующих методов jQuery для создания AJAX запросов с примерами использования Вы найдете в нашем jQuery справочнике.</p>
</body>
</html>
